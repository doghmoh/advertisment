<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="static/fontawsome/css/all.min.css">
    <link rel="stylesheet" href="static/1.css" type="text/css">
    <link rel="stylesheet" href="static/font/almarai.css" type="text/css">
    <title></title>

    <style>
        /* Apply the CSS rule to hide the cursor */
        body {
            cursor: none;
        }
    </style>
</head>

<body>

    <div class="left-side">
        <div id="gallery">
            <div id="media-container">
                <img src="https://picsum.photos/id/1076/600/400" alt="" class="media-item active">

                <img src="https://picsum.photos/id/1076/600/400" alt="" class="media-item newslogo">
                <img src="https://picsum.photos/id/945/600/400" alt="" class="media-item">

                <img src="https://picsum.photos/id/598/600/400" alt="" class="media-item newslogo">
                <img src="https://picsum.photos/id/642/600/400" alt="" class="media-item ">
                <img src="https://picsum.photos/id/945/600/400" alt="" class="media-item newslogo">

            </div>
        </div>
        <div id="news-side">
            <div class="news-ticker">
                <div class="news animate-slide-in">
                    حان الان موعد صلاة الظهر
                </div>
            </div>
            <div id="news-ticker">
                <marquee behavior="scroll" direction="right" scrollamount="3">
                    <span class="news-item"> اللَّهُمَّ إنِّي أَسْأَلُكَ الهُدَى وَالتُّقَى، وَالْعَفَافَ
                        وَالْغِنَى</span>
                    <span class="logo"><img src="static/assets/img/logo.png" width="20" height="25"></span>

                    <span class="news-item"> ربِّ اغفِرْ لي خطيئتي يومَ الدِّينَ</span>
                    <span class="logo"><img src="static/assets/img/logo.png" width="20" height="25"></span>
                </marquee>
            </div>
        </div>


    </div>




    <div class="right-side">
        <div class="elfsight-app-3f7e0165-ce2c-4f76-9b75-cfec01a6c7d4 sidebar-item"
            style="padding: 0; margin:10px 0; overflow: scroll;" data-elfsight-app-lazy></div>

        <div class="card-islamic sidebar-item">
            <!-- <h1>أذكار المسلم</h1> -->
            <p class="adkar-item inactive">اللهم إنك عفو تحب العفو فاعفو عنا</p>
            <p class="adkar-item inactive">سُبْحَانَ اللَّهِ وَالْحَمْدُ لِلَّهِ وَلا إِلَهَ إِلَّا اللَّهُ
                وَاللَّهُ أَكْبَرُ</p>
            <p class="adkar-item inactive"> اللَّهُمَّ صَلِّ عَلَى مُحَمَّدٍ وَعَلَى آلِ مُحَمَّدٍ</p>
            <p class="adkar-item inactive">اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الشَّيْطَانِ الرَّجِيمِ</p>
            <p class="adkar-item inactive">رَضيـتُ بِاللهِ رَبَّـاً وَبِالإسْلامِ ديـناً </p>
            <p class="adkar-item inactive">وَبِمُحَـمَّدٍ صلى الله عليه وسلم نَبِيّـاً </p>
            <p class="adkar-item inactive"> سُبْحَانَ اللَّهِ وَبِحَمْدِهِ 33مرة </p>
            <p class="adkar-item inactive"> سُبْحَانَ اللَّهِ 33 مرة </p>
            <p class="adkar-item inactive"> سُبْحَانَ اللَّهِ وَالْحَمْدُ لِلَّهِ </p>
            <p class="adkar-item inactive"> لَا إلَه إلّا اللهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ
                الْحَمْدُ وَهُوَ عَلَى كُلُّ شَيْءِ قَدِيرِ </p>
            <p class="adkar-item inactive"> الْحَمْدُ لِلَّهِ حَمْدًا كَثِيرًا طَيِّبًا مُبَارَكًا فِيهِ </p>
            <p class="adkar-item inactive"> اللَّهُ أَكْبَرُ كَبِيرًا ، وَالْحَمْدُ لِلَّهِ كَثِيرًا ، وَسُبْحَانَ
                اللَّهِ بُكْرَةً وَأَصِيلاً </p>
        </div>

        <a href="/accounts/log_out/" class="time-link sidebar-item">
            <div class="card-time">
                <div class="time" id="time">10:02:53 PM</div>
            </div>
            <div class="copyright">
                جميع الحقوق محفوظة
                <br>

            </div>
        </a>

    </div>
    <!-- <div id="fullscreen-instruction">Click the button to enter fullscreen mode</div> -->
    <!-- <button id="fullscreen-button">Go Fullscreen</button> -->
    <script>
        const adkarItems = document.querySelectorAll('.adkar-item');
        let currentIndex = 0;
        let interval;

        // Slide-in first adkar for 4s and slide-out.
        adkarItems[currentIndex].classList.add('animate-on');

        function displayNextAdkar() {
            clearInterval(interval);

            // Last adkar fade-out
            adkarItems[currentIndex].classList.remove('animate-on');
            adkarItems[currentIndex].classList.add('inactive');

            currentIndex = (currentIndex + 1) % adkarItems.length;

            // Next adkar fade in
            adkarItems[currentIndex].classList.remove('inactive');
            adkarItems[currentIndex].classList.add('animate-on');

            // Show the current adkar for 5s (adjust timing as needed) and repeat
            interval = setInterval(displayNextAdkar, 5000);
        }

        // Call the function to start the slideshow
        displayNextAdkar();
    </script>
    <script>


        // Open in fullscreen mode
        const fullscreenButton = document.getElementById('fullscreen-button');
        const fullscreenInstruction = document.getElementById('fullscreen-instruction');
        const gallery = document.getElementById('gallery')

    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            function refreshContent() {
                fetch("/show_advertisement_video_images_realtime/")
                    .then(function (response) {
                        if (response.ok) {
                            return response.json();
                        } else {
                            throw new Error("Error: " + response.status);
                        }
                    })
                    .then(function (data) {
                        const leftSideElement = document.querySelector('.left-side');
                        const existingMediaItems = Array.from(document.querySelectorAll('.media-item'));
                        const newMediaItemsHTML = data.result;

                        // Create a temporary container to parse the new HTML
                        const tempContainer = document.createElement('div');
                        tempContainer.innerHTML = newMediaItemsHTML;

                        const newMediaItems = Array.from(tempContainer.querySelectorAll('.media-item'));
                        let currentIndex = existingMediaItems.findIndex(item => item.classList.contains('active'));
                        let interval;

                        function playNextMedia() {
                            clearInterval(interval);
                            existingMediaItems[currentIndex].classList.remove('active');
                            currentIndex = (currentIndex + 1) % existingMediaItems.length;
                            existingMediaItems[currentIndex].classList.add('active');

                            if (existingMediaItems[currentIndex].tagName === 'VIDEO') {
                                const video = existingMediaItems[currentIndex];
                                video.currentTime = 0;

                                video.play().catch(error => {
                                    console.log('Video playback error:', error);
                                });

                                video.onended = () => {
                                    interval = setInterval(playNextMedia, 30000);
                                };
                            } else if (existingMediaItems[currentIndex].tagName === 'IMG') {
                                if (existingMediaItems[currentIndex].classList.contains('newslogo')) {
                                    interval = setInterval(playNextMedia, 3000);
                                } else {
                                    interval = setInterval(playNextMedia, 30000);
                                }
                            }
                        }

                        function updateMediaItems() {
                            existingMediaItems.forEach((item, index) => {
                                const newItem = newMediaItems[index];
                                if (newItem && item.outerHTML !== newItem.outerHTML) {
                                    item.outerHTML = newItem.outerHTML;
                                }
                            });
                        }

                        updateMediaItems();
                        interval = setInterval(playNextMedia, 5000);

                        function updateTime() {
                            const now = new Date();
                            const timeElement = document.getElementById('time');
                            timeElement.textContent = now.toLocaleTimeString();
                        }

                        updateTime();
                        setInterval(updateTime, 1000);

                        const newsItems = document.querySelectorAll('.news');
                        let currentIndexx = 0;
                        let interval2;

                        newsItems[currentIndexx].classList.add('animate-slide-in');

                        function displayNextNews() {
                            clearInterval(interval2);
                            if (currentIndexx < newsItems.length) {
                                newsItems[currentIndexx].classList.remove('animate-slide-in');
                                newsItems[currentIndexx].classList.add('inactive');

                                currentIndexx = (currentIndexx + 1) % newsItems.length;
                                newsItems[currentIndexx].classList.remove('inactive');
                                newsItems[currentIndexx].classList.add('animate-slide-in');

                                interval2 = setInterval(displayNextNews, 5000);
                            }
                        }

                        interval2 = setInterval(displayNextNews, 5000);
                    })
                    .catch(function (error) {
                        console.log(error);
                    });
            }

            // Refresh content initially
            refreshContent();
            setInterval(refreshContent, 1200000);

        });



        // JavaScript code
        const refreshAfterSixHours = () => {
            setTimeout(() => {
                location.reload();
            }, 12 * 60 * 60 * 1000); // 12 hours in milliseconds
        };

        // Call the function to initiate the refresh timer
        refreshAfterSixHours();


    </script>



    <script src="https://static.elfsight.com/platform/platform.js" data-use-service-core defer></script>




</body>

</html>
